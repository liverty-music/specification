syntax = "proto3";

package liverty_music.entity.v1;

import "buf/validate/validate.proto";
import "google/protobuf/timestamp.proto";
import "google/type/date.proto";
import "google/type/timeofday.proto";
import "liverty_music/entity/v1/artist.proto";
import "liverty_music/entity/v1/venue.proto";

// Concert represents a specific music live event.
// It serves as the primary entity for scheduling and user notifications,
// connecting an artist to a specific venue at a scheduled time.
message Concert {
  // The unique identifier of the concert event.
  ConcertId id = 1 [(buf.validate.field).required = true];

  // The unique identifier of the performing artist.
  ArtistId artist_id = 2 [(buf.validate.field).required = true];

  // The unique identifier of the venue where the concert is hosted.
  VenueId venue_id = 3 [(buf.validate.field).required = true];

  // The scheduled date of the concert event.
  google.type.Date date = 4 [(buf.validate.field).required = true];

  // The scheduled time when the performance starts.
  google.type.TimeOfDay start_time = 5 [(buf.validate.field).required = true];

  // The time when the venue doors open to the audience.
  google.type.TimeOfDay open_time = 6;

  // The official title or name of the concert tour or event.
  ConcertTitle title = 7 [(buf.validate.field).required = true];

  // The official source URL for the concert information.
  string source_url = 8 [(buf.validate.field).string.uri = true];

  // The time when the concert was created.
  google.protobuf.Timestamp create_time = 9;

  // The time when the concert was last updated.
  google.protobuf.Timestamp update_time = 10;
}

// ConcertId is a globally unique identifier for a concert.
message ConcertId {
  // A UUID string representing the unique identity of the concert.
  string value = 1 [(buf.validate.field).string.uuid = true];
}

// ConcertTitle represents the official name of a concert or tour.
message ConcertTitle {
  // The title text, required to be at least one character in length.
  string value = 1 [(buf.validate.field).string.min_len = 1];
}
